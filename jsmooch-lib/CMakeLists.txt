set(CMAKE_C_STANDARD 11)

add_library(jsmooch-lib
        src/component/cpu/sm83/sm83.c
        src/component/cpu/sm83/sm83.h
        src/component/cpu/sm83/sm83_misc.h
        src/component/cpu/sm83/sm83_opcodes.c
        src/component/cpu/sm83/sm83_opcodes.h
        src/helpers/enums.h
        src/helpers/int.h
        src/helpers/sys_interface.c
        src/helpers/sys_interface.h
        src/system/gb/mappers/mapper.c
        src/system/gb/mappers/mapper.h
        src/system/gb/mappers/no_mapper.c
        src/system/gb/mappers/no_mapper.h
        src/system/gb/cart.c
        src/system/gb/cart.h
        src/system/gb/gb.c
        src/system/gb/gb.h
        src/system/gb/gb_bus.c
        src/system/gb/gb_bus.h
        src/system/gb/gb_clock.c
        src/system/gb/gb_clock.h
        src/system/gb/gb_cpu.c
        src/system/gb/gb_cpu.h
        src/system/gb/gb_enums.h
        src/system/gb/gb_ppu.c
        src/system/gb/gb_ppu.h
        src/helpers/sys_present.c
        src/helpers/sys_present.h
        src/helpers/debug.h
        src/helpers/debug.c
        src/system/gb/mappers/mbc1.h
        src/system/gb/mappers/mbc1.c
        src/component/cpu/sm83/sm83_disassembler.c
        src/system/gb/mappers/mbc2.h
        src/system/gb/mappers/mbc2.c
        src/system/gb/mappers/mbc3.c
        src/system/gb/mappers/mbc5.h
        src/system/gb/mappers/mbc5.c
        src/component/cpu/m6502/m6502.c
        src/component/cpu/m6502/m6502_disassembler.c
        src/system/nes/nes.h
        src/system/nes/nes.c
        src/component/cpu/m6502/nesm6502_opcodes.h
        src/component/cpu/m6502/nesm6502_opcodes.c
        src/system/nes/nes_clock.c
        src/system/nes/nes_clock.h
        src/system/nes/nes_bus.c
        src/system/nes/nes_bus.h
        src/system/nes/nes_ppu.c
        src/system/nes/nes_ppu.h
        src/system/nes/nes_cart.c
        src/system/nes/nes_cart.h
        src/system/nes/nes_cpu.c
        src/system/nes/nes_cpu.h
        src/component/controller/nes/nes_joypad.c
        src/component/controller/nes/nes_joypad.h
        src/system/nes/mappers/mapper.c
        src/system/nes/mappers/mapper.h
        src/system/nes/mappers/mapper.h
        src/system/nes/mappers/no_mapper.c
        src/system/nes/mappers/no_mapper.h
        src/helpers/buf.c
        src/helpers/buf.h
        src/system/nes/mappers/a12_watcher.c
        src/system/nes/mappers/a12_watcher.h
        src/system/nes/mappers/mmc3b.c
        src/system/nes/mappers/mmc3b.h
        src/system/nes/mappers/axrom.c
        src/system/nes/mappers/axrom.h
        src/system/nes/mappers/cnrom.c
        src/system/nes/mappers/cnrom.h
        src/system/nes/mappers/dxrom.c
        src/system/nes/mappers/dxrom.h
        src/system/nes/mappers/mmc1.c
        src/system/nes/mappers/mmc1.h
        src/system/nes/mappers/uxrom.c
        src/system/nes/mappers/uxrom.h
        src/system/nes/mappers/vrc_2b_4e_4f.c
        src/system/nes/mappers/vrc_2b_4e_4f.h
        src/component/cpu/z80/z80.c
        src/component/cpu/z80/z80.h
        src/component/cpu/z80/z80_opcodes.c
        src/component/cpu/z80/z80_opcodes.h
        src/system/sms_gg/sms_gg.c
        src/system/sms_gg/sms_gg.h
        src/component/controller/sms/sms_gamepad.c
        src/component/controller/sms/sms_gamepad.h
        src/system/sms_gg/sms_gg_vdp.c
        src/system/sms_gg/sms_gg_vdp.h
        src/system/sms_gg/sms_gg_clock.c
        src/system/sms_gg/sms_gg_clock.h
        src/component/audio/sn76489/sn76489.c
        src/component/audio/sn76489/sn76489.h
        src/system/sms_gg/sms_gg_mapper_sega.c
        src/system/sms_gg/sms_gg_mapper_sega.h
        src/system/sms_gg/sms_gg_io.c
        src/system/sms_gg/sms_gg_io.h
        src/component/cpu/sh4/sh4_interpreter.c
        src/component/cpu/sh4/sh4_interpreter.h
        src/component/cpu/sh4/sh4_interpreter.h
        src/component/cpu/sh4/sh4_interpreter_opcodes.c
        src/component/cpu/sh4/sh4_interpreter_opcodes.h
        src/system/dreamcast/dreamcast.c
        src/system/dreamcast/dreamcast.h
        src/component/cpu/sh4/sh4_disassembler.c
        src/component/cpu/sh4/sh4_disassembler.h
        src/system/dreamcast/dc_mem.c
        src/system/dreamcast/dc_mem.h
        src/helpers/jsm_string.c
        src/helpers/jsm_string.h
        src/component/cpu/sh4/fsca.c
        src/component/cpu/sh4/fsca.h
        src/system/dreamcast/holly_sw.c
        src/system/dreamcast/holly_sw.h
        src/system/dreamcast/holly.c
        src/system/dreamcast/holly.h
        src/system/dreamcast/gdi.c
        src/system/dreamcast/gdi.h
        src/component/cpu/z80/z80_disassembler.c
        src/component/cpu/z80/z80_disassembler.h
        src/helpers/scheduler.c
        src/helpers/scheduler.h
        src/system/dreamcast/gdrom.c
        src/system/dreamcast/gdrom.h
        src/system/dreamcast/holly_regs.h
        src/component/cpu/sh4/tmu.c
        src/component/cpu/sh4/tmu.h
        src/component/cpu/sh4/tmu.c
        src/system/dreamcast/maple.c
        src/system/dreamcast/controller.h
        src/system/dreamcast/controller.c
        src/system/dreamcast/g2.c
        src/system/dreamcast/g2.h
        src/system/dreamcast/triangle.c
        src/system/dreamcast/triangle.h
        src/helpers/cvec.c
        src/helpers/cvec.h
        src/component/cpu/m68000/m68000.c
        src/component/cpu/m68000/m68000.h
        src/component/cpu/m6502/m6502_opcodes.c
        src/component/cpu/m6502/m6502_opcodes.h
        src/component/misc/m6532/m6532.c
        src/component/misc/m6532/m6532.h
        src/system/atari2600/atari2600.c
        src/system/atari2600/atari2600.h
        src/system/atari2600/cart.c
        src/system/atari2600/cart.h
        src/system/atari2600/tia.c
        src/system/atari2600/tia.h
        src/helpers/physical_io.c
        src/helpers/physical_io.h
        src/helpers/ccircular.c
        src/helpers/ccircular.h
        src/component/cpu/sh4/sh4_interrupts.c
        src/component/cpu/sh4/sh4_interrupts.h
        src/system/zxspectrum/zxspectrum.c
        src/system/zxspectrum/zxspectrum.h
        src/system/zxspectrum/tape_deck.c
        src/system/zxspectrum/tape_deck.h
        src/system/zxspectrum/ula.c
        src/system/zxspectrum/ula.h
        src/vendor/elf-parser/elf-parser.h
        src/vendor/elf-parser/elf.h
        src/vendor/elf-parser/elf-parser.c
        src/helpers/elf_helpers.h
        src/helpers/elf_helpers.c
        src/component/cpu/m68000/m68000_internal.h
        src/component/cpu/m68000/m68000_instructions.c
        src/component/cpu/m68000/m68000_instructions.h
        src/system/genesis/genesis.c
        src/system/genesis/genesis.h
        src/component/controller/genesis3/genesis3.c
        src/component/controller/genesis3/genesis3.h
        src/system/genesis/genesis_vdp.c
        src/system/genesis/genesis_vdp.h
        src/system/genesis/genesis_clock.c
        src/system/genesis/genesis_clock.h
        src/system/genesis/genesis_cart.c
        src/system/genesis/genesis_cart.h
        src/system/genesis/genesis_bus.c
        src/system/genesis/genesis_bus.h
        src/component/cpu/m68000/m68000_disassembler.c
        src/component/cpu/m68000/m68000_disassembler.h
        src/component/cpu/m68000/m68000_internal.c
        src/system/dreamcast/aica_mem.h
        src/component/audio/ym2612/ym2612.c
        src/system/genesis/genesis_controllerport.c
        src/system/mac/mac.h
        src/system/mac/mac_internal.c
        src/system/mac/mac_internal.h
        src/system/mac/mac.c
        src/system/mac/mac_display.c
        src/system/mac/mac_display.h
        src/component/misc/via6522/via6522.c
        src/component/misc/via6522/via6522.h
        src/helpers/debugger/debugger.h
        src/ooc/ooc.h
        src/helpers/inifile.c
        src/helpers/inifile.h
        src/helpers/file_exists.c
        src/helpers/file_exists.h
)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Werror")

include_directories(src/)

install(TARGETS jsmooch-lib
        LIBRARY DESTINATION lib
        ARCHIVE DESTINATION lib)